(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(27),r=n.n(a),i=(n(37),n(7)),l=(n(38),n(39),n(32));var j=n(0),o=function(){return Object(j.jsx)("div",{id:"logo",children:Object(j.jsxs)("h1",{className:"flow-text",children:[Object(j.jsx)("span",{style:{margin:"0px 5px"},className:"light-blue-text",children:"Chit"}),Object(j.jsx)("span",{style:{padding:"10px",borderRadius:"10px"},className:"light-blue darken-1 white-text",children:"Chat"})]})})};var d=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(s.useState)(t),c=Object(i.a)(n,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){if(!e)return!1;function n(){r(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),a}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"valign-wrapper menu-btn-wrapper",children:Object(j.jsx)("button",{onClick:function(){return c((function(e){return!e}))},href:"#","data-target":"slide-out",className:"sidenav-trigger show-on-large light-blue-text text-darken-1 trans-btn",children:Object(j.jsx)("i",{className:"material-icons",children:"menu"})})}),Object(j.jsx)("div",{className:"side-nav-overlay side-nav-bg",style:{display:n&&a.width<980?"block":"none",opacity:"1"},children:Object(j.jsxs)("ul",{id:"slide-out",className:"sidenav",style:{transform:n||a.width>980?"translateX(0%)":"",transitionProperty:"transform",transitionDuration:".25s"},children:[Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"side-nav-branding",children:[Object(j.jsx)(o,{}),Object(j.jsx)("a",{onClick:function(){return c((function(e){return!e}))},children:Object(j.jsx)("i",{className:"material-icons",children:"close"})})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"user-view",children:[Object(j.jsx)("div",{className:"background",children:Object(j.jsx)("img",{src:"https://images.pexels.com/photos/9934462/pexels-photo-9934462.jpeg?cs=srgb&dl=pexels-mo-9934462.jpg&fm=jpg"})}),Object(j.jsx)("a",{href:"#user",children:Object(j.jsx)("img",{className:"circle",src:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"})}),Object(j.jsx)("a",{href:"#name",children:Object(j.jsx)("span",{className:"white-text name",children:"John Doe"})}),Object(j.jsx)("a",{href:"#email",children:Object(j.jsx)("span",{className:"white-text email",children:"jdandturk@gmail.com"})})]})}),Object(j.jsx)("li",{children:Object(j.jsx)("div",{className:"divider"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#",children:"Sign Out"})})]})})]})},u=n(23),b=n.n(u),h=n(24),m=n(31),O=n(20),x=n(25),f=(n(46),function(e){var t=e.children,n=e.isInline,s=e.width;return Object(j.jsx)("div",{className:!s&&"row",style:{width:"".concat(s)},children:Object(j.jsx)("form",{className:"col s12",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"input-field col s12 ".concat(n?"inline":""),children:t})})})})}),g=function(e){var t=e.handleClick,n=e.label,s=e.classes,c=Object(x.a)(e,["handleClick","label","classes"]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",Object(O.a)(Object(O.a)({className:"btn waves-light waves-effect ".concat(s&&s),onClick:t},c),{},{children:n}))})},v=function(e){var t=e.username,n=e.setUsername,s=e.handleClick;return Object(j.jsxs)(f,{isInline:!0,width:"50%",children:[Object(j.jsx)("label",{for:"username",children:"Username"}),Object(j.jsx)("input",{type:"text",className:"validate col s9 m9",name:"username",value:t,onChange:n}),Object(j.jsx)(g,{label:"Enter",classes:"white light-blue-text text-darken-1 col s3 m3",handleClick:s})]})},p=function(e){var t=e.message,n=e.setMessage,s=e.handleSubmit,c=(e.handleChange,Object(x.a)(e,["message","setMessage","handleSubmit","handleChange"]));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(f,{isInline:!0,children:[Object(j.jsx)("input",Object(O.a)(Object(O.a)({type:"text",placeholder:"What would you like to say?",className:"validate col s10",name:"message-input",value:t},c),{},{onChange:n})),Object(j.jsx)(g,{type:"submit",classes:"col s2 light-blue darken-2",label:"Send",handleClick:s})]})})},w=function(e){var t=e.room;return Object(j.jsxs)("div",{className:"chat-room-header z-depth-2",children:[Object(j.jsx)(d,{}),Object(j.jsx)("div",{className:"chat-room-title",children:t&&Object(j.jsx)("h2",{children:t})})]})},N=function(e){var t=e.message,n=e.float;return Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"chat-bubble ".concat("left"===n?"left":"right"),children:[Object(j.jsx)("div",{className:"card-panel light-blue darken-1 small",children:Object(j.jsx)("span",{className:"white-text flow-text",children:t.message})}),Object(j.jsxs)("span",{children:[t.username," | ",t.time]})]})})},k=function(e){var t=e.messages,n=e.user;return Object(j.jsx)("div",{className:"row chat-room-messages",children:Object(j.jsx)("div",{id:"messages-container",className:"col s12",children:t&&t.map((function(e){return Object(j.jsx)(N,{message:e,float:n===e.username?"right":"left"})}))})})};function y(e){var t=e.socket,n=e.username,c=e.room,a=Object(s.useState)([]),r=Object(i.a)(a,2),l=r[0],o=r[1],d=Object(s.useState)(""),u=Object(i.a)(d,2),O=u[0],x=u[1],f=function(){var e=Object(m.a)(b.a.mark((function e(s){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===O){e.next=7;break}return a={room:c,username:n,message:O,time:new Date(Date.now()).getHours()+":"+new Date(Date.now()).getMinutes()},s.preventDefault(),e.next=5,t.emit("send_message",a);case 5:o((function(e){return[].concat(Object(h.a)(e),[a])})),x("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){t.on("receive_message",(function(e){o((function(t){return[].concat(Object(h.a)(t),[e])}))}))}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{room:c}),Object(j.jsx)(k,{messages:l,user:n}),Object(j.jsx)("form",{className:"chat-bar",action:"",children:Object(j.jsx)(p,{message:O,setMessage:function(e){return x(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&f},handleSubmit:f})})]})}function C(e){var t=e.username,n=e.setUsername,s=e.handleClick;return Object(j.jsxs)("div",{id:"chat-user",children:[Object(j.jsx)(o,{}),Object(j.jsx)(v,{username:t,setUsername:function(e){return n(e.target.value)},handleClick:s})]})}var S=l.a.connect("http://localhost:3001");var D=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)("General"),r=Object(i.a)(a,2),l=r[0],o=(r[1],Object(s.useState)(!1)),d=Object(i.a)(o,2),u=d[0],b=d[1];return Object(s.useEffect)((function(){""!==n&&b(!0)}),[]),Object(j.jsx)("div",{className:"App",children:u?Object(j.jsx)(y,{socket:S,username:n,room:l}):Object(j.jsx)(C,{username:n,setUsername:function(e){return c(e.target.value)},handleClick:function(){""!==n&&""!==l&&(S.emit("join_room",l),b(!0))}})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root")),E()}},[[47,1,2]]]);
//# sourceMappingURL=main.7b3dad6f.chunk.js.map