(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(21),r=n.n(c),i=(n(37),n(14)),l=(n(38),n(39),n(40),n(31)),o=n(24),j=n.n(o),u=n(25),b=n(30),h=n(20),m=n(26),d=n(1),O=function(e){var t=e.children,n=e.isInline,s=e.width;return Object(d.jsx)("div",{className:!s&&"row",style:{width:"".concat(s)},children:Object(d.jsx)("form",{className:"col s12",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"input-field col s12 ".concat(n?"inline":""),children:t})})})})},x=function(e){var t=e.handleClick,n=e.label,s=e.classes,a=Object(m.a)(e,["handleClick","label","classes"]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",Object(h.a)(Object(h.a)({className:"btn waves-light waves-effect ".concat(s&&s),onClick:t},a),{},{children:n}))})},f=function(e){var t=e.username,n=e.setUsername,s=e.handleClick;return Object(d.jsxs)(O,{isInline:!0,width:"50%",children:[Object(d.jsx)("label",{for:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"validate col s9 m9",name:"username",value:t,onChange:n}),Object(d.jsx)(x,{label:"Enter",classes:"white light-blue-text text-darken-1 col s3 m3",handleClick:s})]})},g=function(e){var t=e.message,n=e.setMessage,s=e.handleSubmit,a=(e.handleChange,Object(m.a)(e,["message","setMessage","handleSubmit","handleChange"]));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(O,{isInline:!0,children:[Object(d.jsx)("input",Object(h.a)(Object(h.a)({type:"text",placeholder:"What would you like to say?",className:"validate col s10",name:"message-input",value:t},a),{},{onChange:n})),Object(d.jsx)(x,{type:"submit",classes:"col s2 light-blue darken-2",label:"Send",handleClick:s})]})})},v=n(32),p=function(e){var t=e.room;return Object(d.jsx)("div",{className:"chat-room-header z-depth-2",children:Object(d.jsx)("div",{className:"chat-room-title",children:t&&Object(d.jsx)("h2",{children:t})})})},k=function(e){var t=e.message,n=e.float;return Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"chat-bubble ".concat("left"===n?"left":"right"),children:[Object(d.jsx)("div",{className:"card-panel ".concat("right"===n?" pink lighten-1":"blue darken-2"," small"),children:Object(d.jsx)("span",{className:"white-text flow-text",children:t.message})}),Object(d.jsxs)("span",{children:[t.username," | ",t.time]})]})})},w=function(e){var t=e.messages,n=e.user;return Object(d.jsx)("div",{className:"row chat-room-messages",children:Object(d.jsx)("div",{id:"messages-container",className:"col s12",children:t&&t.map((function(e){return Object(d.jsx)(k,{message:e,float:n===e.username?"right":"left"})}))})})};function N(e){var t=e.socket,n=e.username,a=e.room,c=(e.setRoom,Object(s.useState)([])),r=Object(i.a)(c,2),l=r[0],o=r[1],h=Object(s.useState)(""),m=Object(i.a)(h,2),O=m[0],x=m[1],f=function(){var e=Object(b.a)(j.a.mark((function e(s){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===O){e.next=7;break}return c={room:a,username:n,message:O,time:new Date(Date.now()).getHours()+":"+new Date(Date.now()).getMinutes()},s.preventDefault(),e.next=5,t.emit("send_message",c);case 5:o((function(e){return[].concat(Object(u.a)(e),[c])})),x("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){t.on("receive_message",(function(e){o((function(t){return[].concat(Object(u.a)(t),[e])}))})),t.on("join_room",(function(e){console.log(e)}))}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(v.a,{}),Object(d.jsx)(p,{room:a}),Object(d.jsx)(w,{messages:l,user:n}),Object(d.jsx)("form",{className:"chat-bar",action:"",children:Object(d.jsx)(g,{message:O,setMessage:function(e){return x(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&f},handleSubmit:f})})]})}var C=function(){return Object(d.jsx)("div",{id:"logo",children:Object(d.jsxs)("h1",{className:"flow-text",children:[Object(d.jsx)("span",{style:{margin:"0px 5px"},className:"light-blue-text",children:"Chit"}),Object(d.jsx)("span",{style:{padding:"10px",borderRadius:"10px"},className:"pink darken-1 white-text",children:"Chat"})]})})};function y(e){var t=e.username,n=e.setUsername,s=e.handleClick;e.setChat;return Object(d.jsxs)("div",{id:"chat-user",children:[Object(d.jsx)(C,{}),Object(d.jsx)(f,{username:t,setUsername:n,handleClick:s})]})}var S=l.a.connect("https://chit-chat-rooms-server.herokuapp.com/");var F=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)("General"),r=Object(i.a)(c,2),l=r[0],o=r[1],j=Object(s.useState)(!1),u=Object(i.a)(j,2),b=u[0],h=u[1];return Object(d.jsx)("div",{className:"App",children:b?Object(d.jsx)(N,{socket:S,username:n,room:l,setRoom:o}):Object(d.jsx)(y,{username:n,setUsername:function(e){return a(e.target.value)},handleClick:function(){""!==n&&""!==l&&(S.emit("join_room",l),h(!0))}})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(F,{})}),document.getElementById("root")),D()}},[[48,1,2]]]);
//# sourceMappingURL=main.4f9672fb.chunk.js.map